---
import BaseLayout from './BaseLayout.astro'
import WebsiteHeader from '../components/WebsiteHeader'
import WebsiteFooter from '../components/WebsiteFooter'
import { getLabs } from '../lib/api'

interface Props {
  title: string
  description?: string
  ogImage?: string
  transparentHeader?: boolean
  labs?: any[]
}

const { title, description, ogImage, transparentHeader = false } = Astro.props
const labs = Astro.props.labs || await getLabs()
---

<BaseLayout title={title} description={description} ogImage={ogImage}>
  <WebsiteHeader
    client:load
    labs={labs}
    currentLabId={null}
    currentLanguage="fr"
    availableLanguages={['fr', 'en', 'de']}
  />

  <main>
    <slot />
  </main>

  <WebsiteFooter
    client:visible
    labs={labs}
  />
</BaseLayout>
