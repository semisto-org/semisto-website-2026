---
import PortalLayout from '../../../layouts/PortalLayout.astro'
import { ImpactDashboard } from '../../../components/portal/ImpactDashboard'
import { getPartner, getImpactMetrics } from '../../../lib/portal-api'

export const prerender = false

const partner = getPartner()
const impactMetrics = getImpactMetrics()
---

<PortalLayout title="Impact â€” Espace Partenaire Semisto" activePage="impact">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <ImpactDashboard
      client:load
      metrics={impactMetrics}
      partnerName={partner.name}
      onExportPdf={() => window.print()}
    />
  </div>
</PortalLayout>
